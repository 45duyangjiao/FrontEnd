<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link href="../css/common.css" rel="stylesheet" />
		<link href="../css/newsArea.css" rel="stylesheet" />
		<link href="../css/mui.min.css" rel="stylesheet" />
	</head>
	<body>
		<div class="mui-scroll-wrapper" id="protocol">
	<div class="mui-scroll">
		<div class="newsAera">
			<div class="myChannel">
				<div class="myChannelTil clearfix">
					<span class="floatL">我的频道</span>
					<span class="floatR">编辑</span>
				</div>
				<ul class="myChannelmodule clearfix"></ul>
			</div>
			<div class="compileChannel">
						<div class="myChannelTil clearfix">
							<span class="floatL">点击添加更多频道</span>
						</div>
						<div class="dynamicallyAdd"></div>
					</div>
				</div>	
			</div>
		</div>
		</div>
		<script src="../js/flexable.js"></script>
		<script src="../js/zepto_1.1.3.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/mui.min.js"></script>
		<script src="../js/common.js"></script>
		<script src="../js/newsarea.js"></script>
		<script src="../js/artTemplate.js"></script>
		<script type="text/html" id="channel">
			{{each channel as value i}}
			<!--	<p class="compileAddChannelTile">{{value.Title}}</p>-->
				<div class="dynamicallyAdd">
					<p class="compileAddChannelTile">{{value.Title}}</p>
					<ul class="compileAddChannelArea commonHeight clearfix">
						{{include 'channelSon' value}}
						
						<!--<li class="floatL channelOriginal">国际</li>
						<li class="floatL channelOriginal">地区</li>
						<li class="floatL channelOriginal">国内</li>
						<li class="floatL channelOriginal">国际</li>
						<li class="floatL channelOriginal">地区</li>-->
					</ul>
				</div>
			{{/each}}
		</script>

		<script type="text/html" id="channelSon">
			{{each Son as value i}}
				<li class="floatL channelOriginal">{{value.Title}}</li>
			{{/each}}
		</script>
		
		<script type="text/html" id="myChannel">
			{{each myChannel as value}}
				<li class="floatL channelOriginal">{{value.title}}<sup class="supDelate">x</sup></li>
			{{/each}}
		</script>
		<script>
			
			var channelOriginal = document.getElementsByClassName('channelOriginal');
			channelOriginal.onclick = function(){
				alert("nihao");
			}
			$('.floatR').click(function(){	
				if($(".supDelate").css("display")=="none"){
					$(".supDelate").show();
					$('.floatR').html("完成");
				}else{
					$(".supDelate").hide();
					$('.floatR').html("编辑")
				}
				
			})

			$('.myChannelmodule .supDelate').bind('click',function(){
				$(this).parent().remove();
				alert("nihao")
			})
			$(".dynamicallyAdd .channelOriginal").bind("click",function(){
				alert("nihao")
			})
			console.log($(".dynamicallyAdd .channelOriginal").val())
			$(document).ready(function() {
				var url = 'http://d2p7pk.natappfree.cc/News/GetMoreNewsType';
				$.ajax({
					url: url,
					dataType: 'json',
					type: 'post',
					success: function(data) {
						var str = template("channel", {channel: data.Data.Data});	
						$(".dynamicallyAdd").html(str);
						
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert(XMLHttpRequest.status);

					}
				});
			});

			
		
		</script>
		
		
		
		
	</body>

</html>